<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
		<title>Both Attribute, Both Proxy Property Unit Test</title>
	</head>
	<body>
		<table id="suiteTable" border="1" cellspacing="1" border="1">
			<tbody>
				<tr>
					<td colspan="3">Both Attribute, Both Proxy Property Unit Test</td>
				</tr>
				<tr>
					<td>open</td>
					<td>/unit-tests/html/runat/bothAttribute/bothProxyProperty.html</td>
					<td>&nbsp;</td>
				</tr>
				<tr>
					<td>assertElementPresent</td>
					<td>//script[5]</td>
					<td>&nbsp;</td>
				</tr>
				<tr>
					<td>assertElementNotPresent</td>
					<td>//script[6]</td>
					<td>&nbsp;</td>
				</tr>
				<tr>
					<td>assertAttributeNotPresent</td>
					<td>//script[5]</td>
					<td>runat</td>
				</tr>
				<tr>
					<td>assertText</td>
					<td>//script[5]</td>
					<td>
var x = 10;
function myFunction() { return false; }
Aptana.Server.myFunction = function myFunction() {return Aptana.Callback.invokeFunction.call(null, "myFunction", arguments);}
Aptana.Server.myFunctionAsync = function myFunctionAsync(callback) {return Aptana.Callback.invokeFunctionAsync.call(null, callback, "myFunction", arguments);}
		</td>
				<tr>
					<td>storeEval</td>
					<td>this.browserbot.getCurrentWindow().location.href.substring(7)</td>
					<td>location</td>
				</tr>
				<tr>
					<td>storeEval</td>
					<td>this.browserbot.getCurrentWindow().Aptana.Callback.id</td>
					<td>id</td>
				</tr>
				<tr>
					<td>frameworkCommand</td>
					<td>DELETE FROM callback_page WHERE crc32 != ${id} OR name != "${location}"</td>
					<td></td>
				</tr>
				<tr>
					<td>assertQueryText</td>
					<td>SELECT COUNT(*) from callback_page WHERE crc32 = ${id}</td>
					<td>1</td>
				</tr>
				<tr>
					<td>assertQueryText</td>
					<td>SELECT name from callback_page WHERE crc32 = ${id}</td>
					<td>${location}</td>
				</tr>
				<!--
				<tr>
					<td>assertQueryText</td>
					<td>SELECT value from callback_page WHERE crc32 = ${id}</td>
					<td>myFunction = function myFunction() {
    return false;
}</td>
				</tr>
				<tr>
					<td>assertQueryText</td>
					<td>SELECT access_count from callback_page WHERE crc32 = ${id}</td>
					<td>0</td>
				</tr>
				-->
				<tr>
					<td>close</td>
					<td>&nbsp;</td>
					<td>&nbsp;</td>
				</tr>
			</tbody>
		</table>
	</body>
</html>
